_.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g};window.TorrentView=Backbone.View.extend({model:new window.Torrent,initialize:function(){this.listenTo(this.model,"change",this.render);this.model.view=this;this.template=$.templates("#torentTmpl")},updateFiles:function(e,t){e.forEach(function(e,n){files=t.model.get("files");if(files===undefined){files=new Array;files[0]=e}else{if(files.filter(function(t){return t.path==e.path}).length==0){files.push(e)}}t.model.set("files",files)})},render:function(){if(this.$el.find(".progress-bar").length){var e=this;this.$el.find(".progress-bar").width(this.model.get("progress")+"%");setTimeout(function(){id=e.model.get("id");detailedInfo=$("#detailedTorrentInfo"+id);shouldShow=detailedInfo.hasClass("in");selection=$("#torrentData"+id);e.$el.html(e.template.render(e.model.attributes)).fadeIn(700);if(shouldShow){$("#detailedTorrentInfo"+id).addClass("in");$("#torrentData"+id).html(selection.html());$("#torrentData"+id+" .active:last a").tab("show");$("#torrentData"+id+" a").click(function(e){e.preventDefault();$(this).tab("show")})}else{$("#torrentData"+id+" a:first").tab("show");$("#torrentData"+id+" a").click(function(e){e.preventDefault();$(this).tab("show")})}},1e3)}else{id=this.model.get("id");detailedInfo=$("#detailedTorrentInfo"+id);shouldShow=detailedInfo.hasClass("in");selection=$("#torrentData"+id);this.$el.html(this.template.render(this.model.attributes)).fadeIn(700);if(shouldShow){$("#detailedTorrentInfo"+id).addClass("in");$("#torrentData"+id).html(selection.html());$("#torrentData"+id+" .active:last a").tab("show");$("#torrentData"+id+" a").click(function(e){e.preventDefault();$(this).tab("show")})}else{$("#torrentData"+id+" a:first").tab("show");$("#torrentData"+id+" a").click(function(e){e.preventDefault();$(this).tab("show")})}}return this}})